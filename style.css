:root{
  --brand:#ff7f50;
  --brand-ink:#111;
  --bg:#0f0f10;
  --card:#171819;
  --ink:#eaeaea;      /* 深色主題下為淺色字（含漢堡線條） */
  --muted:#9aa0a6;
  --line:#252627;
  --font: system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC","PingFang TC",sans-serif;
  --radius:16px; --radius-lg:22px;
  --shadow:0 10px 24px rgba(0,0,0,.25);
  --shadow-strong:0 16px 36px rgba(0,0,0,.38);
  --container:min(1100px,92vw);
  --ease:cubic-bezier(.22,1,.36,1);
}
@media (prefers-color-scheme: light){
  :root{
    --bg:#fff; --ink:#111; --muted:#666; --card:#f8f8f8; --line:#e8e8e8; --brand-ink:#000;
  }
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{background:var(--bg);color:var(--ink);font:16px/1.65 var(--font)}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
.container{width:var(--container);margin:auto}
body.menu-open{height:100vh;overflow:hidden}

/* Header / Tabs */
.site-header{position:sticky;top:0;z-index:1000;backdrop-filter:saturate(160%) blur(8px);
  background:color-mix(in oklab,var(--bg),transparent 8%);border-bottom:1px solid var(--line)}
.nav{display:flex;align-items:center;justify-content:space-between;padding:12px 0;gap:12px}
.brand{display:flex;align-items:center;gap:10px;font-weight:800}
.logo{width:28px;height:28px;border-radius:8px;background:var(--brand);display:grid;place-items:center;color:var(--brand-ink);font-weight:900}
.brand-name{letter-spacing:.5px}
.tabs{display:flex;gap:10px;flex-wrap:wrap}
.tab{padding:8px 12px;border:1px solid var(--line);border-radius:999px;font-weight:800;opacity:.95}
.tab[aria-current="page"]{background:var(--brand);color:var(--brand-ink);border-color:var(--brand)}
.hide-on-mobile{display:none}
.show-on-mobile{display:inline-flex}
@media(min-width:980px){.hide-on-mobile{display:flex}.show-on-mobile{display:none}}

/* 漢堡（跟著 --ink，自動淺/深） */
.menu-toggle{height:44px;width:52px;border-radius:12px;display:grid;place-items:center;border:1px solid var(--line);
  background:color-mix(in oklab,var(--bg),#fff 6%);cursor:pointer;color:var(--ink)}
.menu-ico{position:relative;width:22px;height:2px;background:currentColor;display:block}
.menu-ico::before,.menu-ico::after{content:"";position:absolute;left:0;right:0;height:2px;background:currentColor}
.menu-ico::before{top:-7px}.menu-ico::after{top:7px}

/* 抽屜 + 背景遮罩（覆蓋地圖/FAB） */
.drawer{position:fixed;inset:0 0 0 auto;width:min(88vw,380px);background:var(--card);color:var(--ink);
  transform:translateX(100%);transition:transform .28s var(--ease);z-index:1100;box-shadow:var(--shadow-strong)}
.drawer.open{transform:none}
.drawer-body{padding:16px}
.drawer-item{display:block;padding:16px 18px;border-radius:14px;border:1px solid var(--line);margin:10px 0;font-weight:900;
  background:color-mix(in oklab,var(--bg),#fff 6%)}
.drawer-item:active{transform:translateY(1px)}
.backdrop{position:fixed;inset:0;background:rgba(0,0,0,.40);opacity:0;pointer-events:none;transition:opacity .2s ease;z-index:1090;backdrop-filter:blur(2px)}
.backdrop.open{opacity:1;pointer-events:auto}

/* Page / 通用元件 */
main{padding:22px 0 84px}
.page{display:none;padding:18px 0}
.card{background:linear-gradient(180deg,color-mix(in oklab,var(--card),#fff 4%),color-mix(in oklab,var(--card),#000 2%));
  border:1px solid var(--line);border-radius:var(--radius);box-shadow:var(--shadow);padding:20px}
.mt-1{margin-top:10px}.mt-2{margin-top:18px}
.inline{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
.muted{color:var(--muted)}
.empty{text-align:center;padding:22px;border:1px dashed var(--line);border-radius:12px}
.list{padding-left:18px}.list li{margin:6px 0}
.input,textarea,select{width:100%;height:44px;border:1px solid var(--line);border-radius:12px;padding:10px 12px;background:transparent;color:inherit}
textarea{height:120px;resize:vertical}
.btn{height:44px;padding:0 18px;border-radius:12px;font-weight:900;border:1.5px solid #000;background:var(--brand);color:var(--brand-ink);
  display:inline-grid;place-items:center;cursor:pointer;box-shadow:var(--shadow);transition:transform .12s var(--ease),box-shadow .25s var(--ease),opacity .2s}
.btn:hover{transform:translateY(-1px);box-shadow:var(--shadow-strong)}
.btn:active{transform:translateY(0)}
.btn.secondary{background:transparent;border-color:var(--line);color:var(--ink)}
.btn.tertiary{background:transparent;border-color:var(--line);color:var(--muted)}
.pill{display:inline-block;padding:4px 10px;border-radius:999px;background:color-mix(in oklab,var(--brand),#fff 70%);color:#000;font-weight:900;font-size:12px}
.section-head{margin:6px 0 14px}.section-head h2{margin:.2em 0;word-break:keep-all}
.section-sub{color:var(--muted)}
.grid{display:grid;gap:16px}.g-2{grid-template-columns:repeat(2,1fr)}.g-3{grid-template-columns:repeat(3,1fr)}.gcol-2{grid-column:1/-1}
@media(max-width:900px){.g-2,.g-3{grid-template-columns:1fr}}

/* Hero */
.hero{display:grid;grid-template-columns:1.1fr .9fr;gap:22px;align-items:center}
@media(max-width:900px){.hero{grid-template-columns:1fr}}
.hero-title{font-size:clamp(28px,3.2vw,42px);margin:.2em 0 .3em}
.hero-visual{height:240px;border-radius:18px;background:
  radial-gradient(120px 120px at 80% 20%, rgba(255,127,80,.28), transparent 60%),
  radial-gradient(160px 160px at 20% 80%, rgba(0,0,0,.35), transparent 60%), #0c0c0d;display:grid;place-items:center}
.hero-logo{width:120px;height:120px;border-radius:18px;background:var(--brand);display:grid;place-items:center;color:var(--brand-ink);font-weight:900;font-size:48px}

/* 橫向滑動（產品、主子卡、相簿用） */
.hwrap{position:relative}
.hscroll{display:flex;gap:16px;overflow:auto;scroll-snap-type:x mandatory;padding:6px 2px}
.hscroll>*{scroll-snap-align:start;min-width:280px}
.cards .card{width:min(360px,76vw)} /* 卡片間距不會重疊 */

/* 商品卡 */
.product-photo{height:180px;border-radius:14px;background:linear-gradient(180deg, rgba(255,127,80,.18), transparent 50%),#0c0c0d;border:1px solid var(--line);margin-bottom:10px}
.price{font-weight:900;margin-top:6px}

/* 主子卡 */
.catcard .cat-avatar{
  height:160px;border-radius:14px;border:1px solid var(--line);margin-bottom:10px;
  background:#0c0c0d center/cover no-repeat;
}

/* 相簿照片卡 */
.photo{width:min(320px,70vw)}
.photo .photo-img{
  height:220px;border-radius:14px;border:1px solid var(--line);
  background:#0c0c0d center/cover no-repeat;
}

/* 地圖：確保不壓抽屜 */
.map{height:360px;border-radius:16px;overflow:hidden;border:1px solid var(--line)}
.leaflet-container{z-index:0}

/* FAB（圓形、陰影、點擊態） */
.fab{position:fixed;right:18px;bottom:18px;display:grid;gap:10px;z-index:1050}
.fab.hidden{opacity:0;pointer-events:none}
.fab-btn{width:66px;height:66px;border-radius:50%;border:1px solid color-mix(in oklab,var(--brand),#000 12%);
  background:radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.15), transparent),
             linear-gradient(180deg, color-mix(in oklab,var(--brand),#fff 12%), color-mix(in oklab,var(--brand),#000 6%));
  color:#1b1b1b;font-weight:900;box-shadow:var(--shadow-strong);display:grid;place-items:center;cursor:pointer;
  transition:transform .12s var(--ease),opacity .2s,box-shadow .2s}
.fab-btn:hover{transform:translateY(-2px)}
.fab-btn:active{opacity:.75;transform:translateY(0)}

/* 表格 */
.table{width:100%;border-collapse:collapse;font-size:14px}
.table th,.table td{border-bottom:1px solid var(--line);padding:10px 8px;text-align:left}

/* Footer */
.footer{padding:26px 0 60px;color:var(--muted)}
