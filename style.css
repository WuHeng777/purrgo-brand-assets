/* ===== Design System ===== */
:root{
  --brand:#ff7f50; --brand-ink:#111;
  --bg:#0b0b0c; --ink:#eee; --muted:#aaa; --line:#222;
  --card:#141516;
  --radius:14px; --radius-lg:20px; --shadow:0 12px 30px rgba(0,0,0,.35);
  --shadow-strong:0 18px 40px rgba(0,0,0,.45);
  --ease:cubic-bezier(.2,.8,.2,1);
  --container:min(1100px,92vw);
}
@media (prefers-color-scheme: light){
  :root{ --bg:#fff; --ink:#111; --muted:#666; --line:#eee; --card:#fff; --brand-ink:#000; --shadow:0 8px 24px rgba(0,0,0,.08); --shadow-strong:0 12px 30px rgba(0,0,0,.12); }
}
*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
body{ background:var(--bg); color:var(--ink); font:16px/1.65 system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans TC","PingFang TC",sans-serif }
a{ color:inherit; text-decoration:none }
img{ max-width:100%; display:block }
.container{ width:var(--container); margin:auto }

/* ===== Header / Nav ===== */
.site-header{ position:sticky; top:0; z-index:60; backdrop-filter:saturate(180%) blur(10px);
  background:color-mix(in oklab,var(--bg),transparent 12%); border-bottom:1px solid var(--line) }
.nav{ display:flex; align-items:center; justify-content:space-between; padding:12px 0; gap:12px }
.brand{ display:flex; align-items:center; gap:10px; font-weight:800 }
.brand-logo{ width:32px; height:32px; border-radius:10px; background:var(--brand); object-fit:cover }

.tabs{ display:flex; gap:8px; flex-wrap:wrap }
.tab{ padding:8px 12px; border:1px solid var(--line); border-radius:999px; font-weight:600; opacity:.9 }
.tab:hover{ opacity:1 }
.tab[aria-current="page"], .tab.active{ background:var(--brand); color:var(--brand-ink); border-color:var(--brand) }

/* Hamburger */
.menu-toggle{ width:46px;height:40px; border-radius:12px; border:1px solid var(--line); background:transparent; display:grid; place-items:center; cursor:pointer }
.menu-ico{ position:relative; width:22px; height:2px; background:currentColor; display:block }
.menu-ico::before,.menu-ico::after{ content:""; position:absolute; left:0; width:22px; height:2px; background:currentColor }
.menu-ico::before{ top:-7px } .menu-ico::after{ top:7px }

/* Drawer menu + backdrop */
.menu{ position:fixed; inset:0 auto 0 0; width:min(320px,86vw); background:rgba(20,20,20,.96); border-right:1px solid var(--line); transform:translateX(-100%);
  transition:transform .28s var(--ease); padding:16px; z-index:98; overflow:auto }
.menu[aria-hidden="false"]{ transform:translateX(0) }
.menu a{ display:block; padding:16px; margin:10px 0; background:rgba(255,255,255,.03); border:1px solid var(--line); border-radius:16px; font-weight:800 }
.menu-backdrop{ position:fixed; inset:0; background:rgba(0,0,0,.45); z-index:97; backdrop-filter: blur(2px) }
body.noscroll{ overflow:hidden }

/* ===== Layout ===== */
main{ padding:26px 0 60px }
.page{ margin:18px auto }
.card{ background:linear-gradient(180deg,color-mix(in oklab,var(--card),#fff 5%),color-mix(in oklab,var(--bg),#000 8%));
  border:1px solid var(--line); border-radius:var(--radius); box-shadow:var(--shadow); padding:22px }
.radius-xl{ border-radius:24px }
.pill{ display:inline-block; padding:6px 12px; border-radius:999px; background:color-mix(in oklab,var(--brand),#fff 75%); color:#000; font-weight:800; font-size:14px }
.btn{ display:inline-grid; place-items:center; height:44px; padding:0 18px; border-radius:12px; font-weight:800; border:1.5px solid #000;
  background:var(--brand); color:var(--brand-ink); cursor:pointer; box-shadow:var(--shadow); transition:transform .12s var(--ease), box-shadow .25s var(--ease) }
.btn:hover{ transform:translateY(-1px); box-shadow:var(--shadow-strong) }
.btn.secondary{ background:transparent; border-color:var(--line); color:var(--ink) }
.btn.tertiary{ background:transparent; border-color:var(--line); color:var(--muted) }
.input,textarea,select{ width:100%; height:44px; border:1px solid var(--line); border-radius:10px; padding:10px 12px; background:transparent; color:inherit }
textarea{ height:120px; resize:vertical }
.inline{ display:flex; gap:10px; align-items:center; flex-wrap:wrap }
.grid{ display:grid; gap:16px }
.g-2{ grid-template-columns:repeat(2,1fr) } .g-3{ grid-template-columns:repeat(3,1fr) }
.gcol-2{ grid-column:1/-1 } @media(max-width:900px){ .g-2,.g-3{ grid-template-columns:1fr } }

/* Sections */
.section-head{ display:flex; align-items:end; justify-content:space-between; margin:0 0 10px }
.section-sub{ color:var(--muted) }

/* Hero */
.hero{ display:grid; grid-template-columns:1.2fr .8fr; gap:22px; align-items:center }
.hero-title{ margin:.2em 0 .3em; font-size:clamp(28px,3.4vw,44px); line-height:1.15 }
.hero-visual{ aspect-ratio:16/10; border-radius:20px; overflow:hidden; background:radial-gradient(60% 60% at 70% 20%, rgba(255,255,255,.08), transparent 50%),
                             radial-gradient(60% 60% at 20% 80%, rgba(255,127,80,.18), transparent 50%) }
.hero-logo{ width:100%; height:100%; object-fit:contain; padding:18px }

/* Horizontal cards */
.hwrap{ position:relative }
.hscroll{ display:grid; grid-auto-flow:column; grid-auto-columns: min(320px, 82vw); gap:16px; overflow:auto; padding:6px 8px 6px 6px; scroll-behavior:smooth }
.hbtn{ position:absolute; top:50%; transform:translateY(-50%); width:42px;height:42px;border-radius:999px;border:1px solid var(--line); background:var(--card); color:var(--ink); box-shadow:var(--shadow) }
.hbtn.prev{ left:-8px } .hbtn.next{ right:-8px }

/* Product card */
.pro-card{ border:1px solid var(--line); border-radius:16px; overflow:hidden; background:color-mix(in oklab,var(--card),#fff 4%); box-shadow:var(--shadow) }
.pro-img{ aspect-ratio:4/3; background:#0d0d0e; display:block; overflow:hidden }
.pro-img img{ width:100%; height:100%; object-fit:cover }
.pro-body{ padding:14px }

/* Cat cards */
.cards-row{ padding:6px 8px; }
.cat-card{ display:grid; grid-template-columns:64px 1fr auto; gap:12px; align-items:center; border:1px solid var(--line); border-radius:14px; padding:10px; background:color-mix(in oklab,var(--card),#fff 3%) }
.cat-avatar{ width:64px;height:64px;border-radius:14px;object-fit:cover }
.cat-name{ font-weight:800 }

/* Progress */
.progress{ height:8px; background:#1113; border-radius:999px; overflow:hidden; margin-top:8px }
.progress span{ display:block; height:100%; background:linear-gradient(90deg,var(--brand),#ff9a73) }

/* Map */
.map{ height:360px; border-radius:14px; overflow:hidden; border:1px solid var(--line) }
.leaflet-container{ outline:none } /* 避免選單開啟時陰影穿透 */

/* Photo wall */
.wall-item{ border-radius:14px; overflow:hidden; border:1px solid var(--line) }
.wall-item img{ width:100%; height:100%; object-fit:cover; cursor:zoom-in }

/* Dialog */
.dlg::backdrop{ background:rgba(0,0,0,.5) }
.dlg{ border:0; padding:0; background:transparent }
.dlg-body{ position:relative }
.dlg-close{ position:absolute; right:10px; top:10px; border:0; background:#0008; color:#fff; border-radius:999px; width:34px;height:34px; cursor:pointer }

/* FAB (single) */
.fab-col{ position:fixed; right:16px; bottom:18px; z-index:55 }
.fab{ width:64px;height:64px; border-radius:999px; border:0; font-weight:900; box-shadow:var(--shadow-strong);
  background:radial-gradient(120% 120% at 30% 20%, #ffb08f, var(--brand)); color:#000; cursor:pointer; }
.fab:active{ transform:scale(.98); opacity:.9 }

/* Utils */
.mt-0{ margin-top:0 } .mt-1{ margin-top:10px } .mt-2{ margin-top:18px }
.muted{ color:var(--muted) }
.empty{ text-align:center; padding:22px; border:1px dashed var(--line); border-radius:12px }
.list{ padding-left:18px } .list li{ margin:6px 0 }
