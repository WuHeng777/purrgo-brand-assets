<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PurrGo 喵來速｜Demo</title>

  <!-- PWA 可留著，或先拿掉都行 -->
  <meta name="theme-color" content="#ff7f50" />

  <!-- 样式 -->
  <link rel="stylesheet" href="./style.css" />

  <!-- Leaflet 地圖 -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script defer src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body id="top">

<!-- ========== Header / 導覽列 ========== -->
<header class="site-header">
  <div class="nav container">
    <a class="brand" href="#home" onclick="scrollToHash('home');return false;">
      <span class="logo">G</span>
      <span class="brand-name">PurrGo 喵來速</span>
    </a>

    <!-- 桌面：水平分頁 Tab（手機隱藏） -->
    <nav class="tabs hide-on-mobile" aria-label="主選單">
      <a class="tab" data-sec="home"      href="#home">首頁</a>
      <a class="tab" data-sec="products"  href="#products">產品</a>
      <a class="tab" data-sec="guild"     href="#guild">公會</a>
      <a class="tab" data-sec="kiosk"     href="#kiosk">據點</a>
      <a class="tab" data-sec="community" href="#community">照片牆</a>
      <a class="tab" data-sec="social"    href="#social">社群</a>
      <a class="tab" data-sec="chat"      href="#chat">聊天</a>
      <a class="tab" data-sec="about"     href="#about">理念</a>
      <a class="tab" data-sec="contact"   href="#contact">聯絡</a>
    </nav>

    <!-- 手機：漢堡 -->
    <button class="menu-toggle show-on-mobile" aria-label="展開選單" onclick="toggleMenu()">
      <span class="menu-ico" aria-hidden="true"></span>
    </button>
  </div>

  <!-- 手機：抽屜式選單 + 半透明遮罩 -->
  <nav id="drawer" class="drawer" aria-label="抽屜選單" role="dialog" aria-modal="true">
    <div class="drawer-body">
      <a href="#home"      class="drawer-item" onclick="jump('home')">首頁</a>
      <a href="#products"  class="drawer-item" onclick="jump('products')">產品</a>
      <a href="#guild"     class="drawer-item" onclick="jump('guild')">公會</a>
      <a href="#kiosk"     class="drawer-item" onclick="jump('kiosk')">據點</a>
      <a href="#community" class="drawer-item" onclick="jump('community')">照片牆</a>
      <a href="#social"    class="drawer-item" onclick="jump('social')">社群</a>
      <a href="#chat"      class="drawer-item" onclick="jump('chat')">聊天</a>
      <a href="#about"     class="drawer-item" onclick="jump('about')">理念</a>
      <a href="#contact"   class="drawer-item" onclick="jump('contact')">聯絡</a>
    </div>
  </nav>
  <div id="backdrop" class="backdrop" onclick="closeMenu()" aria-hidden="true"></div>
</header>

<main>

  <!-- ========== Home ========== -->
  <section id="home" class="page page--home container">
    <div class="hero card">
      <div class="hero-copy">
        <span class="pill">PurrGo 喵來速</span>
        <h1 class="hero-title">便利 × 可愛 × 永續 × 共創</h1>
        <p class="muted">
          用創新配送 + 公會制度，讓補給更聰明、更便宜、更好玩。把「買貓砂」變成有成就感的里程碑遊戲。
        </p>
        <div class="inline">
          <a class="btn" href="#products" onclick="scrollToHash('products');return false;">開始探索產品</a>
          <a class="btn secondary" href="#guild" onclick="scrollToHash('guild');return false;">加入貓奴公會</a>
          <a class="btn tertiary" href="#about" onclick="scrollToHash('about');return false;">了解品牌理念</a>
        </div>
      </div>
      <div class="hero-art">
        <div class="hero-visual">
          <!-- 你的品牌圖可替換 -->
          <div class="hero-logo">G</div>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== Products ========== -->
  <section id="products" class="page container">
    <header class="section-head">
      <span class="pill">Products</span>
      <h2>熱銷與方案</h2>
      <p class="section-sub">橫向滑動卡片，支援產品照片、詳情彈窗與加入購物車。</p>
    </header>

    <!-- 橫向滑動示例（可改為實際資料） -->
    <div class="hwrap">
      <div class="hscroll cards">
        <article class="card product">
          <div class="product-photo"></div>
          <h3 class="mt-0">幼貓專用豆腐砂</h3>
          <p class="muted">2.5kg / 低粉塵</p>
          <div class="price">NT$ 220</div>
          <div class="inline mt-1">
            <button class="btn">加入購物車</button>
            <button class="btn secondary">查看詳情</button>
          </div>
        </article>

        <article class="card product">
          <div class="product-photo"></div>
          <h3 class="mt-0">成貓日常豆腐砂</h3>
          <p class="muted">2.5kg / 強效除臭</p>
          <div class="price">NT$ 200</div>
          <div class="inline mt-1">
            <button class="btn">加入購物車</button>
            <button class="btn secondary">查看詳情</button>
          </div>
        </article>

        <article class="card product">
          <div class="product-photo"></div>
          <h3 class="mt-0">多貓家庭大包裝</h3>
          <p class="muted">6kg / 高 CP</p>
          <div class="price">NT$ 480</div>
          <div class="inline mt-1">
            <button class="btn">加入購物車</button>
            <button class="btn secondary">查看詳情</button>
          </div>
        </article>
      </div>
    </div>

    <div class="card mt-2">
      <h3 class="mt-0">購物車（示範）</h3>
      <div class="muted">尚無商品</div>
      <div class="inline mt-1">
        <button class="btn">結帳（示範）</button>
        <button class="btn secondary">清空</button>
      </div>
    </div>
  </section>

  <!-- ========== Guild ========== -->
  <section id="guild" class="page container">
    <header class="section-head">
      <span class="pill">Guild</span>
      <h2>公會制度：一起成長、一起更省</h2>
      <p class="section-sub">創立門檻、VIP 等級、貢獻條、每日任務…（示意）</p>
    </header>

    <div class="grid g-2">
      <div class="card">
        <h3 class="mt-0">創立門檻</h3>
        <p>會長資格：累積消費 ≥ $1,200（示範）</p>
        <div class="inline">
          <input class="input" placeholder="輸入手機號碼">
          <button class="btn">綁定手機（示意）</button>
        </div>
        <div class="muted mt-1">尚未綁定手機</div>
        <button class="btn secondary mt-1">綁定 LINE（示意）</button>
      </div>

      <div class="card">
        <h3 class="mt-0">每日簽到 + 能量 / XP</h3>
        <div class="inline">
          <button class="btn">簽到（示範）</button>
          <div class="muted">今日尚未簽到</div>
        </div>
      </div>
    </div>

    <div class="card mt-2">
      <h3 class="mt-0">免費健檢（示範行為）</h3>
      <p class="muted">加入公會後可預約年度一次免費健檢。選地區 → 顯示合作院所 → 上傳報告可得貢獻。</p>
      <div class="grid g-2">
        <select class="input">
          <option>台北</option><option>台中</option><option>高雄</option>
        </select>
        <button class="btn">顯示合作院所（示範）</button>
        <input class="input gcol-2" type="file" accept="image/*,.pdf" />
      </div>
    </div>
  </section>

  <!-- ========== Kiosk / Map ========== -->
  <section id="kiosk" class="page container">
    <header class="section-head">
      <span class="pill">Kiosk</span>
      <h2>販賣機點位</h2>
      <p class="section-sub">點標記開啟導航（Google/Apple Maps）。</p>
    </header>
    <div id="map" class="map"></div>
  </section>

  <!-- ========== Community ========== -->
  <section id="community" class="page container">
    <header class="section-head">
      <span class="pill">Community</span>
      <h2>照片牆</h2>
      <p class="section-sub">未接後端前，先作為展示牆（本機示範）。</p>
    </header>
    <div class="grid g-3">
      <div class="card photo"></div>
      <div class="card photo"></div>
      <div class="card photo"></div>
    </div>
  </section>

  <!-- ========== Social / Chat 骨架（示範） ========== -->
  <section id="social" class="page container">
    <header class="section-head">
      <span class="pill">Social</span>
      <h2>社群互動（展示版）</h2>
      <p class="section-sub">之後可加：按讚、分享、留言、短影片牆…</p>
    </header>
    <div class="card">
      <div class="inline">
        <button class="btn">發表貼文（示範）</button>
        <button class="btn secondary">上傳短影片（示範）</button>
      </div>
    </div>
  </section>

  <section id="chat" class="page container">
    <header class="section-head">
      <span class="pill">Chat</span>
      <h2>聊天（展示版）</h2>
      <p class="section-sub">之後可加：加好友/私訊/封鎖/刪除等。</p>
    </header>
    <div class="card">
      <div class="inline">
        <input class="input" placeholder="輸入訊息（示範）">
        <button class="btn">送出</button>
      </div>
    </div>
  </section>

  <!-- ========== About / Contact ========== -->
  <section id="about" class="page container">
    <header class="section-head">
      <span class="pill">About</span>
      <h2>品牌理念</h2>
      <p class="section-sub">便利、可愛、永續、共創。</p>
    </header>
    <div class="card">
      <p class="muted">我們相信與社群一起共創，把日常補給轉化為好玩且更有效率的體驗。</p>
    </div>
  </section>

  <section id="contact" class="page container">
    <header class="section-head">
      <span class="pill">Contact</span>
      <h2>聯絡我們</h2>
    </header>
    <form class="card grid g-2" onsubmit="alert('已收到（示範）');this.reset();return false;">
      <input class="input" placeholder="您的稱呼" required>
      <input class="input" type="email" placeholder="Email" required>
      <textarea class="input gcol-2" placeholder="訊息" required></textarea>
      <div class="inline"><button class="btn">送出</button></div>
    </form>
  </section>

</main>

<footer class="container footer">
  © PurrGo 喵來速 ｜ Demo（不含私密投資資訊）
</footer>

<!-- ========== FAB 懸浮按鈕 ========== -->
<div class="fab" id="fab">
  <button class="fab-btn" title="Top"  onclick="scrollToHash('top')">Top</button>
  <button class="fab-btn" title="Shop" onclick="scrollToHash('products')">Shop</button>
  <button class="fab-btn" title="Guild" onclick="scrollToHash('guild')">Guild</button>
  <button class="fab-btn" title="Map"  onclick="scrollToHash('kiosk')">Map</button>
  <button class="fab-btn" title="Msg"  onclick="scrollToHash('contact')">Msg</button>
</div>

<!-- ========== Main Script ========== -->
<script>
/* --------- 工具：高亮目前分頁 --------- */
function highlight() {
  const hash = (location.hash || '#home').replace('#','');
  document.querySelectorAll('.tab').forEach(a => {
    a.setAttribute('aria-current', a.dataset.sec === hash ? 'page' : 'false');
  });
}
window.addEventListener('hashchange', highlight);
window.addEventListener('DOMContentLoaded', highlight);

/* --------- 平滑捲動 --------- */
function scrollToHash(id){
  const el = document.getElementById(id);
  if(!el) return;
  el.scrollIntoView({behavior:'smooth', block:'start'});
  setTimeout(highlight, 300);
}
function jump(id){ closeMenu(); setTimeout(()=>scrollToHash(id), 10); }

/* --------- 抽屜式選單（手機） --------- */
const drawer = document.getElementById('drawer');
const backdrop = document.getElementById('backdrop');
function toggleMenu(){
  const open = drawer.classList.toggle('open');
  backdrop.classList.toggle('open', open);
  document.body.classList.toggle('menu-open', open); // 鎖捲動
}
function closeMenu(){
  drawer.classList.remove('open');
  backdrop.classList.remove('open');
  document.body.classList.remove('menu-open');
}

/* --------- Leaflet 地圖 --------- */
function initMap(){
  if(!window.L) return;
  const map = L.map('map', { zoomControl:true }).setView([25.0330,121.5654], 12);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{
    maxZoom: 19, attribution: '© OpenStreetMap'
  }).addTo(map);
  const points = [
    {name:'台北-信義點', lat:25.033, lng:121.565},
    {name:'台中-科博館', lat:24.158, lng:120.664},
    {name:'高雄-三多商圈', lat:22.613, lng:120.306},
  ];
  points.forEach(p=>{
    const m = L.marker([p.lat,p.lng]).addTo(map);
    const g = `https://www.google.com/maps?q=${p.lat},${p.lng}`;
    const a = `https://maps.apple.com/?q=${p.lat},${p.lng}`;
    m.bindPopup(`<b>${p.name}</b><br>
      <a target="_blank" href="${g}">Google Maps</a> ｜ 
      <a target="_blank" href="${a}">Apple Maps</a>`);
  });
}
window.addEventListener('DOMContentLoaded', initMap);

/* --------- 讓地圖不壓住抽屜（z-index 交由 CSS），並在抽屜開啟時隱藏 FAB --------- */
const fab = document.getElementById('fab');
const onDrawerChange = new MutationObserver(()=>{
  const open = drawer.classList.contains('open');
  fab.classList.toggle('hidden', open);
});
onDrawerChange.observe(drawer, {attributes:true});
</script>

</body>
</html>
