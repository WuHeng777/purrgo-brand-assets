<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PurrGo 喵來速｜品牌官網 Demo</title>

  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="icon" href="./logo/favicon.png">
  <link rel="apple-touch-icon" sizes="192x192" href="./logo/logo-192.png">
  <link rel="apple-touch-icon" sizes="512x512" href="./logo/logo-512.png">
  <meta name="theme-color" content="#ff7f50">

  <link rel="stylesheet" href="./style.css">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="anonymous">
</head>
<body id="top">

<header class="site-header">
  <div class="container nav">
    <a class="brand" href="#home">
      <img class="brand-logo" src="./logo/logo-192.png" alt="PurrGo" />
      <b>PurrGo 喵來速</b>
    </a>

    <!-- 桌機：分頁導覽 -->
    <nav class="tabs">
      <a class="tab" data-sec="home">首頁</a>
      <a class="tab" data-sec="products">產品</a>
      <a class="tab" data-sec="guild">公會</a>
      <a class="tab" data-sec="kiosk">據點</a>
      <a class="tab" data-sec="community">照片牆</a>
      <a class="tab" data-sec="social">社群</a>
      <a class="tab" data-sec="chat">聊天</a>
      <a class="tab" data-sec="video">短影片</a>
      <a class="tab" data-sec="about">理念</a>
      <a class="tab" data-sec="contact">聯絡</a>
    </nav>

    <!-- 漢堡 -->
    <button class="menu-toggle" aria-label="開啟選單" id="menuToggle">
      <span class="menu-ico" aria-hidden="true"></span>
    </button>
  </div>

  <!-- 手機：抽屜選單 -->
  <nav id="menu" class="menu" aria-label="主選單" aria-hidden="true">
    <a href="#home"        onclick="closeMenu()">首頁</a>
    <a href="#products"    onclick="closeMenu()">產品</a>
    <a href="#guild"       onclick="closeMenu()">公會</a>
    <a href="#kiosk"       onclick="closeMenu()">據點</a>
    <a href="#community"   onclick="closeMenu()">照片牆</a>
    <a href="#social"      onclick="closeMenu()">社群</a>
    <a href="#chat"        onclick="closeMenu()">聊天</a>
    <a href="#video"       onclick="closeMenu()">短影片</a>
    <a href="#about"       onclick="closeMenu()">理念</a>
    <a href="#contact"     onclick="closeMenu()">聯絡</a>
  </nav>
  <div id="menuBackdrop" class="menu-backdrop" hidden></div>
</header>

<main>

  <!-- ===== 首頁 / Hero ===== -->
  <section id="home" class="page container">
    <article class="card hero">
      <div class="hero-copy">
        <span class="pill">PurrGo 喵來速</span>
        <h1 class="hero-title">便利 × 可愛 × 永續 × 共創</h1>
        <p class="muted">
          用創新配送 + 公會制度，讓補給更聰明、更便宜、更好玩。把「買貓砂」變成有成就感的里程碑遊戲。
        </p>
        <div class="inline mt-1">
          <a class="btn" data-go="products">開始探索產品</a>
          <a class="btn secondary" data-go="guild">加入貓奴公會</a>
          <a class="btn tertiary" data-go="about">了解品牌理念</a>
        </div>
      </div>
      <div class="hero-art">
        <div class="hero-visual">
          <img src="./logo/logo-512.png" alt="PurrGo Logo" class="hero-logo radius-xl"/>
        </div>
      </div>
    </article>

    <!-- 登入 / 註冊（本機 Demo） -->
    <article class="card">
      <span class="pill">Account</span>
      <h2 class="mt-0">註冊 / 登入</h2>
      <p class="muted">Demo 僅在本機儲存（localStorage）。未登入狀態可預覽，但無法新增主子、上傳等互動。</p>
      <form class="grid g-3" onsubmit="return doLogin(event)">
        <div><label>帳號（ID / 暱稱）<input id="loginId" class="input" required placeholder="例如：mimiDad"></label></div>
        <div><label>電子郵件（示意）<input id="loginMail" type="email" class="input" placeholder="demo@example.com"></label></div>
        <div class="inline"><button class="btn" type="submit">登入 / 註冊</button>
          <span class="muted" id="loginStatus"></span>
          <button class="btn secondary" type="button" onclick="logout()">登出</button>
        </div>
      </form>
    </article>

    <!-- 主子角色 -->
    <article class="card">
      <span class="pill">主子</span>
      <h2 class="mt-0">建立主子角色</h2>

      <form id="catForm" class="grid g-3" onsubmit="return addCat(event)">
        <div><label>暱稱<input class="input" id="catName" required></label></div>
        <div><label>性別
          <select class="input" id="catGender">
            <option>公</option><option>母</option>
          </select>
        </label></div>
        <div><label>生日
          <input class="input" id="catBirth" type="date" required>
        </label></div>
        <div class="gcol-2"><label>品種
          <select id="catBreed" class="input"></select>
        </label></div>
        <div class="gcol-2"><label>大頭照
          <input type="file" accept="image/*" id="catAvatar" class="input">
        </label></div>
        <div class="inline"><button class="btn" type="submit">新增主子</button></div>
      </form>

      <div class="mt-2">
        <h3 class="mt-0">我的主子</h3>
        <div id="catsRow" class="hscroll cards-row"></div>
      </div>
    </article>
  </section>

  <!-- ===== 產品 ===== -->
  <section id="products" class="page container">
    <header class="section-head">
      <div>
        <span class="pill">Products</span>
        <h2 class="mt-0">熱銷與方案</h2>
        <p class="section-sub">橫向滑動卡片，支援產品照片、詳情彈窗與加入購物車。</p>
      </div>
    </header>

    <div class="hwrap">
      <button class="hbtn prev" aria-label="上一排" data-row="#productRow">‹</button>
      <div id="productRow" class="hscroll cards-row"></div>
      <button class="hbtn next" aria-label="下一排" data-row="#productRow">›</button>
    </div>

    <article class="card">
      <h3 class="mt-0">購物車（示範）</h3>
      <div id="cartList" class="muted">尚無商品</div>
      <div class="inline mt-1">
        <button class="btn">結帳（示範）</button>
        <button class="btn secondary" onclick="clearCart()">清空</button>
      </div>
    </article>
  </section>

  <!-- ===== 公會 ===== -->
  <section id="guild" class="page container">
    <header class="section-head">
      <div><span class="pill">Guild</span><h2 class="mt-0">公會制度：一起成長、一起更省</h2>
      <p class="section-sub">創立門檻、VIP 等級、貢獻條、每日任務（示範）。</p></div>
    </header>

    <article class="card">
      <h3 class="mt-0">身分綁定 / VIP</h3>
      <div class="grid g-3">
        <div><label>手機號碼（示意）<input class="input" placeholder="09xxxxxxxx"></label></div>
        <div class="inline"><button class="btn">綁定（示意）</button></div>
      </div>
      <div class="muted mt-1">VIP 等級：<b id="vipLv">V0</b></div>
      <div class="progress"><span id="vipProg" style="width:10%"></span></div>
    </article>

    <article class="card">
      <h3 class="mt-0">免費健檢（每年一次）</h3>
      <p class="muted">需登入並加入公會。選擇主子 → 上傳健檢報告 PDF/圖片 → 加計貢獻。</p>
      <form class="grid g-3" onsubmit="return uploadCheckup(event)">
        <div>
          <label>選擇主子
            <select class="input" id="checkupCat"></select>
          </label>
        </div>
        <div class="gcol-2">
          <label>上傳健檢報告
            <input id="checkupFile" type="file" accept=".pdf,image/*" class="input" required />
          </label>
        </div>
        <div class="inline"><button class="btn" type="submit">上傳（Demo）</button></div>
      </form>
      <div id="checkupList" class="mt-1"></div>
    </article>
  </section>

  <!-- ===== 據點地圖 ===== -->
  <section id="kiosk" class="page container">
    <header class="section-head">
      <div><span class="pill">Kiosk</span><h2 class="mt-0">販賣機點位</h2></div>
    </header>
    <div id="map" class="map"></div>
    <p class="muted mt-1">地圖互動在選單開啟時會暫停，避免蓋層問題。</p>
  </section>

  <!-- ===== 照片牆 ===== -->
  <section id="community" class="page container">
    <header class="section-head">
      <div><span class="pill">Community</span><h2 class="mt-0">照片牆（本機示範）</h2></div>
    </header>
    <div class="inline">
      <input type="file" accept="image/*" multiple id="photoInput">
      <button class="btn secondary" onclick="clearWall()">清除所有照片（本機）</button>
    </div>
    <div id="wall" class="grid g-3 mt-2"></div>
  </section>

  <!-- ===== 社群 ===== -->
  <section id="social" class="page container">
    <header class="section-head">
      <div><span class="pill">Social</span><h2 class="mt-0">社群（Demo）</h2></div>
    </header>
    <article class="card">
      <h3 class="mt-0">好友 / 追蹤（示意）</h3>
      <div class="grid g-3">
        <div><label>輸入好友 ID <input class="input" id="friendId" placeholder="ex: catlover77"></label></div>
        <div class="inline"><button class="btn" onclick="addFriend()">新增好友（本機）</button></div>
      </div>
      <div id="friendList" class="mt-1 muted">尚無好友</div>
    </article>
  </section>

  <!-- ===== 聊天 & 影片（占位） ===== -->
  <section id="chat" class="page container">
    <header class="section-head"><div><span class="pill">Chat</span><h2 class="mt-0">聊天（示範占位）</h2></div></header>
    <article class="card"><div class="empty">之後接訊息服務 / WebSocket。</div></article>
  </section>

  <section id="video" class="page container">
    <header class="section-head"><div><span class="pill">Shorts</span><h2 class="mt-0">短影片（示範占位）</h2></div></header>
    <article class="card"><div class="empty">之後接上傳 / 播放清單（30 秒）</div></article>
  </section>

  <!-- ===== 理念 / 聯絡 ===== -->
  <section id="about" class="page container">
    <header class="section-head"><div><span class="pill">About</span><h2 class="mt-0">品牌理念</h2></div></header>
    <article class="card"><p class="muted">便利、可愛、永續、共創。</p></article>
  </section>

  <section id="contact" class="page container">
    <header class="section-head"><div><span class="pill">Contact</span><h2 class="mt-0">聯絡我們</h2></div></header>
    <article class="card">
      <form class="grid g-2" onsubmit="return submitForm(event)">
        <div><label>您的稱呼<input class="input" required></label></div>
        <div><label>Email<input type="email" class="input" required></label></div>
        <div class="gcol-2"><label>訊息<textarea class="input" required></textarea></label></div>
        <div class="inline"><button class="btn" type="submit">送出</button></div>
      </form>
      <p class="muted mt-1">也可來信：<a href="mailto:hello@purrgo.tw">hello@purrgo.tw</a></p>
    </article>
  </section>

</main>

<footer class="container" style="padding:26px 0 90px;color:var(--muted)">
  © PurrGo 喵來速 ｜ 公開 Demo（不含投資人資訊）
</footer>

<!-- 單顆 FAB：Top -->
<div class="fab-col">
  <button class="fab" id="toTopBtn" aria-label="回到頂端">Top</button>
</div>

<!-- 產品詳情 Modal -->
<dialog id="prodDlg" class="dlg">
  <div class="dlg-body card">
    <button class="dlg-close" onclick="closeProd()">✕</button>
    <div id="prodContent"></div>
  </div>
</dialog>

<!-- Leaflet JS -->
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin="anonymous"></script>

<script>
/* ===== Global State ===== */
const LS_KEY = 'purrgoState';
const state = JSON.parse(localStorage.getItem(LS_KEY) || '{}');
state.user  ||= null;             // {id, mail}
state.cats  ||= [];               // [{id,name,gender,birth,ageStr,breed,avatar}]
state.cart  ||= [];               // products
state.check ||= [];               // checkup records
state.friends ||= [];             // friend ids

function save(){ localStorage.setItem(LS_KEY, JSON.stringify(state)); }

/* ===== Helpers ===== */
const $ = sel => document.querySelector(sel);
function go(id){ document.getElementById(id)?.scrollIntoView({behavior:'smooth'}); }
function yyyymmdd(d){ return d.toISOString().slice(0,10); }
function ageFromBirth(dt){
  const b = new Date(dt), now = new Date();
  let y = now.getFullYear()-b.getFullYear();
  let m = now.getMonth()-b.getMonth();
  if(m<0){ y--; m+=12; }
  return `${y}歲${m}月`;
}

/* ===== Auth (Demo) ===== */
function doLogin(e){
  e.preventDefault();
  const id = $('#loginId').value.trim();
  if(!id) return false;
  state.user = { id, mail: $('#loginMail').value.trim()||'' };
  save(); renderAuth();
  return false;
}
function logout(){
  state.user = null; save(); renderAuth();
}
function renderAuth(){
  $('#loginStatus').textContent = state.user ? `已登入：${state.user.id}` : '（未登入）';
  document.body.classList.toggle('locked', menuOpen); // 保持
  // 權限提示（未登入時鎖互動）
  document.querySelectorAll('[data-need-login]').forEach(el=>{
    el.toggleAttribute('disabled', !state.user);
    el.classList.toggle('disabled', !state.user);
  });
}
renderAuth();

/* ===== Hamburger ===== */
let menuOpen = false;
const menu = $('#menu'), backdrop = $('#menuBackdrop'), toggle = $('#menuToggle');
function openMenu(){
  menuOpen = true;
  menu.setAttribute('aria-hidden','false');
  backdrop.hidden = false;
  document.body.classList.add('noscroll');
}
function closeMenu(){
  menuOpen = false;
  menu.setAttribute('aria-hidden','true');
  backdrop.hidden = true;
  document.body.classList.remove('noscroll');
}
toggle.addEventListener('click', ()=> menuOpen?closeMenu():openMenu());
backdrop.addEventListener('click', closeMenu);

/* ===== Top FAB ===== */
$('#toTopBtn').addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}));

/* ===== Tabs (desktop) & hero buttons ===== */
document.querySelectorAll('.tab,[data-go]').forEach(a=>{
  a.addEventListener('click', ()=>{
    const id = a.dataset.sec || a.dataset.go;
    if(id){ go(id); }
  });
});

/* ===== Products ===== */
async function loadProducts(){
  try{
    const res = await fetch('./data/products.json',{cache:'no-cache'});
    const list = await res.json();
    renderProducts(list);
  }catch{
    renderProducts([
      {id:1,name:'幼貓豆腐砂',spec:'2.5kg / 低粉塵',price:220,img:'./img/tofu-young.jpg',bullets:['好鏟','快凝結']},
      {id:2,name:'成貓日常豆腐砂',spec:'2.5kg / 強效除臭',price:200,img:'./img/tofu-adult.jpg',bullets:['不易帶砂','高CP']},
      {id:3,name:'熟齡溫和豆腐砂',spec:'2.5kg / 護敏',price:230,img:'./img/tofu-senior.jpg',bullets:['溫和','親膚']}
    ]);
  }
}
function renderProducts(list){
  const row = $('#productRow'); row.innerHTML='';
  list.forEach(p=>{
    const el = document.createElement('div'); el.className='pro-card';
    el.innerHTML = `
      <figure class="pro-img"><img src="${p.img||'./img/000'}" alt="${p.name}"></figure>
      <div class="pro-body">
        <h3 class="mt-0">${p.name}</h3>
        <div class="muted">${p.spec||''}</div>
        <div class="mt-1"><b>NT$ ${Number(p.price||0).toLocaleString()}</b></div>
        <ul class="list">${(p.bullets||[]).map(b=>`<li>${b}</li>`).join('')}</ul>
        <div class="inline mt-1">
          <button class="btn" onclick='addToCart(${JSON.stringify(p).replace(/'/g,"&#39;")})'>加入購物車</button>
          <button class="btn secondary" onclick='openProd(${JSON.stringify(p).replace(/'/g,"&#39;")})'>查看詳情</button>
        </div>
      </div>`;
    row.appendChild(el);
  });
}
function addToCart(p){
  state.cart.push({id:p.id,name:p.name,price:p.price});
  save(); renderCart();
}
function clearCart(){ state.cart=[]; save(); renderCart(); }
function renderCart(){
  const box = $('#cartList');
  if(!state.cart.length){ box.textContent='尚無商品'; return; }
  box.innerHTML = state.cart.map(i=>`<div class="cart-line">${i.name} — NT$ ${i.price}</div>`).join('');
}
function openProd(p){
  const d = $('#prodDlg'), body = $('#prodContent');
  body.innerHTML = `
    <div class="grid g-2">
      <img class="radius-xl" src="${p.img||''}" alt="${p.name}">
      <div>
        <h3 class="mt-0">${p.name}</h3>
        <div class="muted">${p.spec||''}</div>
        <ul class="list">${(p.bullets||[]).map(b=>`<li>${b}</li>`).join('')}</ul>
        <div class="inline mt-1">
          <button class="btn" onclick='addToCart(${JSON.stringify(p).replace(/'/g,"&#39;")});closeProd()'>加入購物車</button>
        </div>
      </div>
    </div>`;
  d.showModal();
}
function closeProd(){ $('#prodDlg').close(); }

/* ===== Map ===== */
let map;
async function initMap(){
  map = L.map('map', {zoomControl:true, scrollWheelZoom:true}).setView([25.0330,121.5654], 12);
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',{maxZoom:19, attribution:'© OpenStreetMap'}).addTo(map);
  try{
    const res = await fetch('./data/locations.json',{cache:'no-cache'});
    const pts = await res.json();
    pts.forEach(p=>{
      const m = L.marker([p.lat,p.lng]).addTo(map);
      const g = `https://www.google.com/maps?q=${p.lat},${p.lng}`;
      m.bindPopup(`<b>${p.name}</b><br>${p.address||''}<br><a target="_blank" href="${g}">Google Maps</a>`);
    });
  }catch{}
}
// 選單開啟時禁止地圖互動
const stopMap = (on)=>{ if(!map) return; on ? map.dragging.disable() : map.dragging.enable(); };
backdrop.addEventListener('click', ()=> stopMap(false));
toggle.addEventListener('click', ()=> stopMap(menuOpen));

/* ===== Breeds ===== */
async function loadBreeds(){
  const sel = $('#catBreed');
  try{
    const res = await fetch('./data/breeds.json',{cache:'no-cache'});
    const list = await res.json();
    sel.innerHTML = list.map(b=>`<option>${b}</option>`).join('');
  }catch{
    sel.innerHTML = ['米克斯','英短','美短','蘇格蘭摺耳貓'].map(b=>`<option>${b}</option>`).join('');
  }
}

/* ===== Cats ===== */
function addCat(e){
  e.preventDefault();
  if(!state.user){ alert('請先登入'); return false; }
  const f = e.target;
  const file = $('#catAvatar').files[0];
  const reader = new FileReader();
  reader.onload = ()=>{
    const c = {
      id: crypto.randomUUID(),
      name: $('#catName').value.trim(),
      gender: $('#catGender').value,
      birth: $('#catBirth').value,
      ageStr: ageFromBirth($('#catBirth').value),
      breed: $('#catBreed').value,
      avatar: reader.result || ''
    };
    state.cats.push(c); save(); f.reset(); renderCats(); refreshCheckupCats(); primeWall();
  };
  if(file) reader.readAsDataURL(file); else reader.onload();
  return false;
}
function renderCats(){
  const row = $('#catsRow'); row.innerHTML='';
  state.cats.forEach(c=>{
    const el = document.createElement('div'); el.className='cat-card';
    el.innerHTML = `
      <img src="${c.avatar||'./logo/logo-192.png'}" class="cat-avatar" alt="${c.name}">
      <div class="cat-meta">
        <div class="cat-name">${c.name}</div>
        <div class="muted">${c.breed}｜${c.gender}｜${c.ageStr}</div>
      </div>
      <div class="inline">
        <button class="btn secondary" onclick="editCat('${c.id}')">編輯</button>
        <button class="btn tertiary" onclick="delCat('${c.id}')">刪除</button>
      </div>`;
    row.appendChild(el);
  });
}
function editCat(id){
  const c = state.cats.find(x=>x.id===id); if(!c) return;
  const name = prompt('主子暱稱', c.name); if(name===null) return;
  c.name = name; save(); renderCats(); refreshCheckupCats();
}
function delCat(id){
  if(!confirm('刪除這位主子？')) return;
  state.cats = state.cats.filter(c=>c.id!==id); save(); renderCats(); refreshCheckupCats();
}

/* ===== Checkup ===== */
function refreshCheckupCats(){
  const sel = $('#checkupCat'); sel.innerHTML = state.cats.map(c=>`<option value="${c.id}">${c.name}</option>`).join('');
}
function uploadCheckup(e){
  e.preventDefault();
  if(!state.user){ alert('請先登入'); return false; }
  const id = $('#checkupCat').value, file = $('#checkupFile').files[0];
  if(!id || !file) return false;
  state.check.push({ id, name:(state.cats.find(c=>c.id===id)?.name||''), file:file.name, at: new Date().toLocaleString() });
  save(); renderCheckups(); e.target.reset();
  return false;
}
function renderCheckups(){
  const box = $('#checkupList');
  if(!state.check.length){ box.innerHTML='<div class="muted">尚無紀錄</div>'; return; }
  box.innerHTML = state.check.map(r=>`<div class="check-line">✔ ${r.name} 上傳「${r.file}」於 ${r.at}</div>`).join('');
}

/* ===== Photos ===== */
function primeWall(){
  // 若照片牆為空，先放第一隻主子的頭像
  const wall = JSON.parse(localStorage.getItem('purrWall')||'[]');
  if(!wall.length && state.cats[0]?.avatar){
    wall.push({url: state.cats[0].avatar, pub:true, ts: Date.now()});
    localStorage.setItem('purrWall', JSON.stringify(wall));
    renderWall();
  }
}
function clearWall(){
  localStorage.removeItem('purrWall'); renderWall();
}
function renderWall(){
  const wall = JSON.parse(localStorage.getItem('purrWall')||'[]');
  const grid = $('#wall'); grid.innerHTML='';
  wall.forEach((p,i)=>{
    const el = document.createElement('figure'); el.className='wall-item';
    el.innerHTML = `<img src="${p.url}" alt="photo ${i}" onclick="preview('${encodeURIComponent(p.url)}')">`;
    grid.appendChild(el);
  });
}
$('#photoInput').addEventListener('change', (e)=>{
  if(!state.user){ alert('請先登入'); e.target.value=''; return; }
  const files = [...e.target.files];
  const reader = new FileReader();
  const wall = JSON.parse(localStorage.getItem('purrWall')||'[]');
  (function next(i){
    if(i>=files.length){ localStorage.setItem('purrWall', JSON.stringify(wall)); renderWall(); e.target.value=''; return; }
    reader.onload = ()=>{ wall.push({url:reader.result,pub:true, ts:Date.now()}); next(i+1); };
    reader.readAsDataURL(files[i]);
  })(0);
});
function preview(url){
  const d = $('#prodDlg'), body=$('#prodContent');
  body.innerHTML = `<img class="radius-xl" src="${decodeURIComponent(url)}" alt="preview">`;
  d.showModal();
}

/* ===== Friends (Demo) ===== */
function addFriend(){
  if(!state.user){ alert('請先登入'); return; }
  const id = $('#friendId').value.trim(); if(!id) return;
  if(!state.friends.includes(id)) state.friends.push(id);
  save(); renderFriends(); $('#friendId').value='';
}
function renderFriends(){
  const box = $('#friendList');
  box.textContent = state.friends.length ? '好友：' + state.friends.join('、') : '尚無好友';
}

/* ===== init ===== */
window.addEventListener('DOMContentLoaded', ()=>{
  loadProducts();
  initMap();
  loadBreeds();
  renderCats(); renderCart(); renderCheckups(); refreshCheckupCats(); renderFriends(); renderWall(); primeWall();

  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('./sw.js').catch(()=>{});
  }

  // 橫滑左右鍵
  document.querySelectorAll('.hbtn').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const row = document.querySelector(btn.dataset.row);
      row.scrollBy({left: btn.classList.contains('next')? +360 : -360, behavior:'smooth'});
    });
  });
});
</script>
</body>
</html>
